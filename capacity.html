<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>กำลังการผลิต & เครื่องจักร (ประมาณการ)</title>

  <style>
    /* ---------- โทนสีใหม่: พื้นหลังขาว ตัวหนังสือเข้ม อ่านง่าย ---------- */
    :root {
      --bg-page: #ffffff;
      --bg-card: #ffffff;
      --bg-input: #ffffff;

      --text-main: #0f172a;
      --text-dim: #475569;
      --text-soft: #64748b;

      --border-card: #cbd5e1;
      --border-soft: #e2e8f0;
      --border-input: #94a3b8;

      --accent: #0ea5e9;
      --good: #16a34a;
      --warn: #eab308;
      --risk: #dc2626;

      --table-head-bg: #f1f5f9;
    }

    body {
      font-family: system-ui, sans-serif;
      background: var(--bg-page);
      color: var(--text-main);
      margin: 0;
      padding: 0;
      display: grid;
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
      font-size: 15px;
      line-height: 1.5;
    }

    /* ---------- HEADER / NAV ---------- */
    header {
      background: #ffffff;
      color: var(--text-main);
      padding: 12px 16px;
      border-bottom: 1px solid var(--border-card);
      font-size: 14px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    header .brand {
      color: var(--text-main);
      font-weight: 600;
      font-size: 15px;
    }
    header nav a {
      color: var(--text-dim);
      margin-right: 12px;
      text-decoration: none;
      font-size: 14px;
    }
    header nav a:last-child {
      margin-right: 0;
    }
    header nav a.active {
      color: var(--accent);
      font-weight: 600;
    }
    header nav a:hover {
      color: var(--accent);
    }

    /* ---------- MAIN LAYOUT ---------- */
    main {
      padding: 20px 16px 64px;
      display: grid;
      gap: 20px;
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
    }

    section.block {
      background: var(--bg-card);
      border: 1px solid var(--border-card);
      border-radius: 12px;
      padding: 20px 20px 16px;
    }

    section.block h2 {
      margin: 0 0 4px;
      font-size: 16px;
      color: var(--text-main);
      font-weight: 600;
    }

    section.block .sub {
      margin: 0 0 16px;
      font-size: 13px;
      color: var(--text-dim);
      line-height: 1.5;
    }

    /* กล่องข้อมูล / input */
    .input-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(min(200px,100%),1fr));
      gap: 16px;
    }

    .input-col {
      background: var(--bg-card);
      border: 1px solid var(--border-soft);
      border-radius: 10px;
      padding: 12px 12px 10px;
    }

    .input-col label {
      display: block;
      font-size: 13px;
      color: var(--text-main);
      margin-bottom: 6px;
      line-height: 1.4;
      font-weight: 500;
    }
    .unit {
      color: var(--text-soft);
      font-weight: 400;
    }

    .input-col input {
      width: 100%;
      background: var(--bg-input);
      color: var(--text-main);
      border: 1px solid var(--border-input);
      border-radius: 6px;
      padding: 8px 10px;
      font-size: 14px;
      font-family: inherit;
    }
    .input-col input:focus {
      outline: 2px solid var(--accent);
      outline-offset: 0;
      border-color: var(--accent);
    }

    /* กล่องสรุปตัวเลข */
    .flex-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 16px;
    }

    .calc-row {
      font-size: 14px;
      color: var(--text-main);
      line-height: 1.5;
      background: #ffffff;
      border: 1px solid var(--border-card);
      border-radius: 10px;
      padding: 12px 16px;
      flex: 1;
      min-width: 240px;
    }

    .calc-row .label {
      color: var(--text-soft);
      font-size: 13px;
      margin-bottom: 4px;
    }

    .result-num {
      font-size: 17px;
      color: var(--text-main);
      font-weight: 600;
      line-height: 1.4;
    }
    .result-note {
      font-size: 12px;
      color: var(--text-soft);
      line-height: 1.4;
    }

    /* ตารางเทียบเครื่องอัด */
    table.compare {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      line-height: 1.5;
      color: var(--text-main);
      border: 1px solid var(--border-card);
      border-radius: 10px;
      overflow: hidden;
    }
    table.compare thead {
      background: var(--table-head-bg);
      color: var(--text-main);
    }
    table.compare th,
    table.compare td {
      padding: 10px 12px;
      text-align: left;
      vertical-align: top;
      border-bottom: 1px solid var(--border-soft);
    }
    table.compare tr:last-child td {
      border-bottom: 0;
    }
    table.compare th {
      font-weight: 600;
      font-size: 13px;
      white-space: nowrap;
      color: var(--text-main);
    }
    table.compare td.headcol {
      font-weight: 600;
      color: var(--text-main);
      width: 150px;
      white-space: nowrap;
    }

    .highlight-good {
      color: var(--good);
      font-weight: 600;
    }
    .highlight-warn {
      color: var(--warn);
      font-weight: 600;
    }
    .highlight-risk {
      color: var(--risk);
      font-weight: 600;
    }

    /* layout 2 คอลัมน์เฉพาะจอใหญ่ */
    @media (min-width: 900px){
      .two-col {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px;
      }
    }

    footer {
      color: var(--text-soft);
      background:#ffffff;
      font-size:12px;
      text-align:center;
      padding:16px 0 24px;
      border-top:1px solid var(--border-card);
      margin-top: 32px;
    }

    /* bullet note box */
    .note-box {
      background:#f8fafc;
      border:1px solid var(--border-soft);
      border-radius:8px;
      padding:10px 12px;
      font-size:13px;
      color:var(--text-main);
      line-height:1.5;
    }
    .note-box strong {
      color: var(--text-main);
    }
    .note-box ul {
      padding-left: 20px;
      margin:6px 0 0;
    }
    .note-box li {
      margin-bottom:4px;
    }

  </style>
</head>
<body>
  <header>
    <div class="brand">สมุทรสาคร Spatial Intelligence</div>
    <nav>
      <a href="index.html">หน้าแรก</a>
      <a href="map.html">แผนที่</a>
      <a href="competition.html">คู่แข่ง/ลูกค้า</a>
      <a href="population.html">ประชากร</a>
      <a href="capacity.html" class="active">กำลังการผลิต</a>
      <a href="risk.html">ความเสี่ยง</a>
    </nav>
  </header>

  <main>
    <!-- SECTION 1: INPUT ปริมาณเข้าโรงงาน -->
    <section class="block">
      <h2>1) ปริมาณวัสดุเข้าระบบต่อปี (ตัน/ปี)</h2>
      <p class="sub">
        ใส่ประมาณการ “วัสดุรีไซเคิลดิบที่เก็บมาได้ทั้งปีในจังหวัด/โซนเป้าหมาย”  
        ตัวเลขนี้คือของเข้าหน้างาน ก่อนจะอัดก้อนหรือคัดแยกละเอียด
      </p>

      <div class="note-box" style="margin-bottom:16px;">
        <strong>หมายเหตุการจัดการวัสดุ:</strong>
        <ul>
          <li><strong>PET / HDPE / กระดาษ / อะลูมิเนียม</strong> = ต้องเข้าเครื่องอัดก้อนก่อนขาย (เราขายเป็นก้อนอัด)</li>
          <li><strong>ขวดแก้วดี (ขวดสุราที่กลับมาใช้ซ้ำ)</strong> = ไม่ต้องอัด เป็นสินค้า premium แบบ “คัดสภาพ-คัดรุ่น-นับเป็นใบ” ส่งกลับโรงงานสุราโดยตรง</li>
        </ul>
      </div>

      <div class="input-grid">
        <div class="input-col">
          <label>ขวดแก้วรีฟิล (สุรากลับใช้ซ้ำ) <span class="unit">(ตัน/ปี)</span></label>
          <input id="glassTonPerYear" type="number" min="0" step="0.1" value="500">
        </div>

        <div class="input-col">
          <label>PET ใส (ขวดน้ำดื่ม) <span class="unit">(ตัน/ปี)</span></label>
          <input id="petTonPerYear" type="number" min="0" step="0.1" value="800">
        </div>

        <div class="input-col">
          <label>HDPE / PP (พวกขวดนม, ฝาน้ำมัน) <span class="unit">(ตัน/ปี)</span></label>
          <input id="hdpeTonPerYear" type="number" min="0" step="0.1" value="400">
        </div>

        <div class="input-col">
          <label>กล่องลูกฟูก / ลังสินค้า <span class="unit">(ตัน/ปี)</span></label>
          <input id="paperTonPerYear" type="number" min="0" step="0.1" value="1200">
        </div>

        <div class="input-col">
          <label>กระป๋องอะลูมิเนียม <span class="unit">(ตัน/ปี)</span></label>
          <input id="aluTonPerYear" type="number" min="0" step="0.1" value="200">
        </div>

        <div class="input-col">
          <label>เศษโลหะอื่น / เศษเหล็ก <span class="unit">(ตัน/ปี)</span></label>
          <input id="metalTonPerYear" type="number" min="0" step="0.1" value="600">
        </div>

        <div class="input-col">
          <label>วันเดินเครื่องต่อปี <span class="unit">(วัน/ปี)</span></label>
          <input id="daysPerYear" type="number" min="1" step="1" value="300">
        </div>

        <div class="input-col">
          <label>ชั่วโมงต่อวัน <span class="unit">(ชม./วัน)</span></label>
          <input id="hoursPerDay" type="number" min="1" step="1" value="8">
        </div>
      </div>

      <div class="flex-row" style="margin-top:20px;">
        <div class="calc-row">
          <div class="label">รวมวัสดุทั้งหมด</div>
          <div class="result-num" id="totalTonPerYear">-</div>
          <div class="result-note">ตัน/ปี (รวมทุกชนิด)</div>
        </div>

        <div class="calc-row">
          <div class="label">เฉลี่ยเข้าระบบต่อชั่วโมง</div>
          <div class="result-num" id="avgKgPerHour">-</div>
          <div class="result-note">กก./ชั่วโมง (โหลดเฉลี่ยที่ต้องจัดการ)</div>
        </div>
      </div>
    </section>

    <!-- SECTION 2: ตารางเปรียบเทียบแนวตั้ง vs แนวนอน -->
    <section class="block">
      <h2>2) เทียบเทคโนโลยีการอัดก้อน: แนวตั้ง vs แนวนอน</h2>
      <p class="sub">
        เครื่องอัดแนวตั้ง = ราคาถูกกว่า เหมาะลานเล็ก ก้อนเล็ก (~150–200 กก.) ใช้แรงงานคนเยอะ  
        เครื่องอัดแนวนอน = โรงงานอุตสาหกรรม ก้อนใหญ่ (~700–900 กก.) ป้อนต่อเนื่อง ใช้คนน้อย ขนส่งคุ้ม
      </p>

      <div class="two-col">
        <div style="overflow-x:auto;">
          <table class="compare">
            <thead>
              <tr>
                <th></th>
                <th>แนวตั้ง (Vertical baler)</th>
                <th>แนวนอน (Horizontal baler)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="headcol">น้ำหนักก้อนทั่วไป</td>
                <td>~150–200 กก./ก้อน</td>
                <td>~700–900 กก./ก้อน</td>
              </tr>
              <tr>
                <td class="headcol">อัตราการอัด</td>
                <td>~200–400 กก./ชม.<br>(พึ่งแรงงาน)</td>
                <td>~1,000+ กก./ชม.<br>(ป้อนต่อเนื่อง)</td>
              </tr>
              <tr>
                <td class="headcol">แรงงาน</td>
                <td>3–4 คน/กะ<br>(ยก-มัดเอง)</td>
                <td>2 คน/กะ<br>(ป้อน+คุมมัด)</td>
              </tr>
              <tr>
                <td class="headcol">กำลังไฟ</td>
                <td>~10 kW</td>
                <td>~25 kW</td>
              </tr>
              <tr>
                <td class="headcol">เหมาะกับ</td>
                <td>ลานรับซื้อรายย่อย</td>
                <td class="highlight-good">ศูนย์กลางรวบรวมระดับจังหวัด</td>
              </tr>
              <tr>
                <td class="headcol">ขนส่งออกนอกพื้นที่</td>
                <td>
                  ก้อนเล็ก เรียงรถยาก → ใช้พื้นที่รถไม่คุ้ม  
                  <div class="highlight-risk">ต้นทุนต่อกก. สูง</div>
                </td>
                <td>
                  ก้อนใหญ่ เรียงซ้อนแน่น ส่งรถพ่วง 30 ตันได้เต็ม  
                  <div class="highlight-good">ต้นทุนต่อกก. ต่ำ</div>
                </td>
              </tr>
              <tr>
                <td class="headcol">บทบาทในห่วงโซ่</td>
                <td>ผู้ตาม / รับจ้างอัด</td>
                <td>
                  <span class="highlight-good">Hub เก็บรวมทั้งจังหวัด</span><br/>
                  ต่อรองราคาปลายน้ำได้
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="calc-row" style="min-height:100%;">
          <div class="label" style="font-size:14px; color:var(--text-main); font-weight:600; margin-bottom:6px;">
            สรุปสั้น ๆ
          </div>
          <div style="font-size:13px; color:var(--text-main); line-height:1.6;">
            ถ้าปริมาณวัสดุรีไซเคิลรวมกันเป็นหลัก “หลายพันตัน/ปี”  
            การข้ามไปใช้ <strong class="highlight-good">แนวนอน</strong> เลยจะได้:
            <ul style="margin-top:8px; padding-left:20px; color:var(--text-main);">
              <li>ใช้คนต่อปริมาณน้อยลง</li>
              <li>ก้อนใหญ่ → ขนรถพ่วง 30 ตัน/เที่ยว ได้คุ้มทันที</li>
              <li>ภาพลักษณ์ / การต่อรอง: เราเป็นศูนย์กลาง ไม่ใช่ร้านเล็ก</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 3: วิเคราะห์เคสของเรา (สมมติเลือกแนวนอน) -->
    <section class="block">
      <h2>3) ถ้าเราใช้ “เครื่องอัดแนวนอน” จริง จะพอไหม?</h2>
      <p class="sub">
        ด้านล่างนี้คือการคำนวณอัตโนมัติจากข้อมูลที่กรอกด้านบน  
        - โหลดวัสดุเฉลี่ย/ชั่วโมง  
        - ความสามารถเครื่องแนวนอน ~1,000 กก./ชม./เครื่อง  
        - จำนวนเครื่องที่ควรมี  
        - คน, ไฟฟ้า, และศักยภาพการขนส่งด้วยรถพ่วง 30 ตัน
      </p>

      <div class="flex-row">
        <div class="calc-row">
          <div class="label">สมรรถนะเครื่องแนวนอน (สมมติ)</div>
          <div class="result-num" id="horiKgPerHour">-</div>
          <div class="result-note">กก./ชม./เครื่อง (ประมาณ 1,000 กก./ชม.)</div>
        </div>

        <div class="calc-row">
          <div class="label">% การใช้งานเครื่องโดยเฉลี่ย</div>
          <div class="result-num" id="utilizationPct">-</div>
          <div class="result-note">เทียบโหลดจริง vs ความสามารถเครื่อง</div>
        </div>

        <div class="calc-row">
          <div class="label">จำนวนเครื่องอัดที่ต้องมี (ปัดขึ้น)</div>
          <div class="result-num" id="neededMachines">-</div>
          <div class="result-note">เครื่องแนวนอน</div>
        </div>
      </div>

      <div class="flex-row" style="margin-top:16px;">
        <div class="calc-row">
          <div class="label">กำลังไฟรวม (ประมาณ)</div>
          <div class="result-num" id="powerKw">-</div>
          <div class="result-note">kW (≈25 kW ต่อเครื่องแนวนอน)</div>
        </div>

        <div class="calc-row">
          <div class="label">แรงงานปฏิบัติการ</div>
          <div class="result-num" id="peoplePerShift">-</div>
          <div class="result-note">คน/กะ (≈2 คน ต่อเครื่องแนวนอน)</div>
        </div>

        <div class="calc-row">
          <div class="label">การอัดก้อน → ขนรถพ่วง 30 ตัน</div>
          <div class="result-num" id="truckBalesInfo">-</div>
          <div class="result-note">
            คิดจากก้อนแนวนอน ~800 กก./ก้อน  
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 4: การอ่านผลแบบเชิงธุรกิจ -->
    <section class="block">
      <h2>4) ตีความธุรกิจ / ศักยภาพขึ้นเป็น Hub จังหวัด</h2>
      <p class="sub" id="businessInsight">
        -
      </p>
    </section>

  </main>

  <footer>
    © วิเคราะห์เชิงพื้นที่สมุทรสาคร · ศักยภาพกำลังการผลิต & เครื่องจักรอัดก้อน (Prototype)
  </footer>

  <script>
    // -----------------------------
    // สมมติฐานเชิงเทคนิค (ปรับได้ทีหลัง)
    // -----------------------------
    // ความสามารถเครื่องอัดแนวนอน 1 เครื่อง:
    const HORIZONTAL_KG_PER_HOUR_PER_MACHINE = 1000; // ~1 ตัน/ชม./เครื่อง

    // น้ำหนักก้อน:
    // - แนวตั้ง: ~180 กก./ก้อน (ร้านรีไซเคิลทั่วไป)
    // - แนวนอน: ~800 กก./ก้อน (โรงงานอุตสาหกรรม)
    const VERTICAL_BALE_KG = 180;
    const HORIZONTAL_BALE_KG = 800;

    // ไฟฟ้าต่อเครื่องแนวนอน (โดยประมาณ)
    const HORIZONTAL_POWER_KW = 25;

    // คน/กะ ต่อเครื่องแนวนอน
    const PEOPLE_PER_SHIFT_PER_MACHINE = 2;

    // รถพ่วงขนส่งออก (30 ตัน/เที่ยว = 30,000 กก.)
    const TRUCK_PAYLOAD_KG = 30000;

    // -----------------------------
    // helper แสดงตัวเลข
    // -----------------------------
    function fmt(num, digits=0) {
      if (isNaN(num)) return "-";
      return Number(num).toLocaleString("th-TH", {
        minimumFractionDigits: digits,
        maximumFractionDigits: digits
      });
    }

    // -----------------------------
    // main calc
    // -----------------------------
    function recalc() {
      // ดึงค่าที่ผู้ใช้กรอก
      const glassTonPerYear = parseFloat(document.getElementById("glassTonPerYear").value || "0");
      const petTonPerYear   = parseFloat(document.getElementById("petTonPerYear").value   || "0");
      const hdpeTonPerYear  = parseFloat(document.getElementById("hdpeTonPerYear").value  || "0");
      const paperTonPerYear = parseFloat(document.getElementById("paperTonPerYear").value || "0");
      const aluTonPerYear   = parseFloat(document.getElementById("aluTonPerYear").value   || "0");
      const metalTonPerYear = parseFloat(document.getElementById("metalTonPerYear").value || "0");

      const daysPerYear     = parseFloat(document.getElementById("daysPerYear").value     || "300");
      const hoursPerDay     = parseFloat(document.getElementById("hoursPerDay").value     || "8");

      // รวมตัน/ปี (ทั้งหมด)
      const totalTonPerYear =
        glassTonPerYear +
        petTonPerYear   +
        hdpeTonPerYear  +
        paperTonPerYear +
        aluTonPerYear   +
        metalTonPerYear;

      // ชั่วโมงทำงาน/ปี
      const hoursPerYear = daysPerYear * hoursPerDay;

      // โหลดเฉลี่ยเป็นกก./ชม.
      // (ตัน/ปี * 1000) / (ชม./ปี)
      const avgKgPerHour =
        hoursPerYear > 0
        ? (totalTonPerYear * 1000) / hoursPerYear
        : 0;

      // สมรรถนะเครื่องแนวนอน 1 เครื่อง
      const horiKgPerHour = HORIZONTAL_KG_PER_HOUR_PER_MACHINE;

      // utilization (%โหลดที่ใช้จริงเมื่อเทียบกับกำลังเครื่อง)
      const utilizationPct =
        horiKgPerHour > 0
        ? (avgKgPerHour / horiKgPerHour) * 100
        : 0;

      // จำนวนเครื่องแนวนอนที่ต้องการ (ปัดขึ้น)
      const neededMachinesRaw =
        horiKgPerHour > 0
        ? (avgKgPerHour / horiKgPerHour)
        : 0;
      const neededMachines = Math.ceil(neededMachinesRaw);

      // กำลังไฟรวม
      const powerKw = neededMachines * HORIZONTAL_POWER_KW;

      // จำนวนคนต่อกะ
      const peoplePerShift = neededMachines * PEOPLE_PER_SHIFT_PER_MACHINE;

      // ประมาณจำนวนก้อนต่อรถพ่วง 30 ตัน
      // รถ 30,000 กก. / น้ำหนักก้อน
      const truckVertBales = VERTICAL_BALE_KG > 0
        ? Math.floor(TRUCK_PAYLOAD_KG / VERTICAL_BALE_KG)
        : 0;

      const truckHoriBales = HORIZONTAL_BALE_KG > 0
        ? Math.floor(TRUCK_PAYLOAD_KG / HORIZONTAL_BALE_KG)
        : 0;

      const truckInfoTxt =
        `แนวตั้ง ~${fmt(truckVertBales)} ก้อน/เที่ยว | แนวนอน ~${fmt(truckHoriBales)} ก้อน/เที่ยว`;

      // -------- ปรับ UI --------
      document.getElementById("totalTonPerYear").textContent = fmt(totalTonPerYear,1);
      document.getElementById("avgKgPerHour").textContent    = fmt(avgKgPerHour,0);

      document.getElementById("horiKgPerHour").textContent   = fmt(horiKgPerHour,0);
      document.getElementById("utilizationPct").textContent  = fmt(utilizationPct,1) + " %";
      document.getElementById("neededMachines").textContent  = neededMachines + " เครื่อง";

      document.getElementById("powerKw").textContent         = fmt(powerKw,1) + " kW";
      document.getElementById("peoplePerShift").textContent  = fmt(peoplePerShift,0) + " คน/กะ";
      document.getElementById("truckBalesInfo").textContent  = truckInfoTxt;

      // -------- Insight ธุรกิจ --------
      let scaleText = "";
      if (neededMachines <= 1) {
        scaleText = "โหลดงานยังอยู่ในระดับที่ 1 เครื่องแนวนอนรับได้ → คุณเริ่มสร้างสถานะเป็นจุดรวบรวมหลักระดับจังหวัดได้แล้ว";
      } else if (neededMachines === 2) {
        scaleText = "ต้องการ ≈2 เครื่องแนวนอน → คุณกำลังจะเป็น Hub กลางจังหวัด/ข้ามจังหวัด มีอำนาจต่อรองราคาและกำหนดเงื่อนไขการรับของ";
      } else {
        scaleText = "ต้องใช้ ≥3 เครื่องแนวนอน → นี่คือระดับศูนย์กลางระดับภูมิภาค (Regional Hub) คู่แข่งรายย่อยตามคุณยาก";
      }

      const logisticsPoint =
        "ก้อนแนวนอน (~800 กก./ก้อน) เรียงขึ้นรถพ่วง 30 ตัน ได้ประมาณ "
        + fmt(truckHoriBales)
        + " ก้อน/เที่ยว → ต้นทุนขนส่งต่อกก. ต่ำกว่าเจ้าเล็กที่ยังใช้ก้อนแนวตั้ง";

      const peoplePoint =
        "ใช้แรงงานปฏิบัติการประมาณ "
        + fmt(peoplePerShift,0)
        + " คน/กะ สำหรับสายการอัดหลักทั้งหมด ซึ่งถือว่าต่ำเมื่อเทียบกับปริมาณตัน/ปี";

      const powerPoint =
        "กำลังไฟรวมราว "
        + fmt(powerKw,1)
        + " kW หมายความว่าพื้นที่ต้องมีไฟฟ้าอุตสาหกรรม แต่ยังอยู่ระดับโรงงาน SME-กลาง ไม่ใช่เมกะโปรเจกต์";

      const dominancePoint =
        "สรุป: ถ้าคุณเดินแนวนอน + โลจิสติกส์รถพ่วง 30 ตัน คุณไม่ได้เป็น 'ร้านรับซื้อของเก่า' อีกต่อไป แต่เป็น 'ศูนย์กลางรวบรวมและคัดแยกของจังหวัดสมุทรสาคร' ที่โรงงานปลายน้ำ (โรงงานสุรา, เม็ดพลาสติก, กระดาษ, โลหะ) ต้องคุยด้วยก่อน → โอกาสขึ้นเป็น Hub ใหญ่จริง";

      document.getElementById("businessInsight").innerHTML =
        `<div style="font-size:14px; color:var(--text-main); line-height:1.6;">
          <div style="margin-bottom:8px;"><strong>ขนาดการดำเนินการ:</strong> ${scaleText}</div>
          <div style="margin-bottom:8px;"><strong>ขนส่ง/โลจิสติกส์:</strong> ${logisticsPoint}</div>
          <div style="margin-bottom:8px;"><strong>แรงงาน &amp; พลังงาน:</strong> ${peoplePoint}. ${powerPoint}.</div>
          <div style="margin-bottom:8px;"><strong>ศักยภาพเป็น Hub:</strong> ${dominancePoint}</div>
        </div>`;
    }

    // คำนวณใหม่ทุกครั้งที่แก้ input
    const inputs = document.querySelectorAll("input");
    inputs.forEach(inp => {
      inp.addEventListener("input", recalc);
    });

    // คำนวณครั้งแรกตอนโหลดหน้า
    recalc();
  </script>
</body>
</html>

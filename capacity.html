<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ú‡∏•‡∏¥‡∏ï & ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£</title>

  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0f172a;
      color: #f8fafc;
      margin: 0;
      padding: 0;
      display: grid;
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
    }

    header {
      background: #1e293b;
      padding: 12px 16px;
      border-bottom: 1px solid #334155;
      font-size: 14px;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    header .brand {
      color: #fff;
      font-weight: 600;
      font-size: 14px;
    }
    header nav a {
      color: #94a3b8;
      margin-right: 12px;
      text-decoration: none;
      font-size: 13px;
    }
    header nav a:hover {
      color: #fff;
    }
    header nav a.active {
      color: #38bdf8;
      font-weight: 600;
    }

    main {
      padding: 24px clamp(16px,2vw,32px) 48px;
      max-width: 1200px;
      width: 100%;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
    }

    @media (max-width: 900px) {
      main {
        grid-template-columns: 1fr;
      }
    }

    section.card {
      background: rgba(15,23,42,0.8);
      border: 1px solid #334155;
      border-radius: 16px;
      padding: 20px 24px;
      box-shadow: 0 24px 64px rgb(0 0 0 / .7);
    }

    h1 {
      font-size: 16px;
      font-weight: 600;
      color: #fff;
      margin: 0 0 4px;
      letter-spacing: -0.03em;
      display: flex;
      flex-wrap: wrap;
      align-items: baseline;
      gap: 8px;
    }
    .subtitle {
      font-size: 12px;
      color: #94a3b8;
      line-height: 1.4;
      margin-bottom: 16px;
    }

    h2 {
      margin: 16px 0 8px;
      font-size: 14px;
      font-weight: 600;
      color: #fff;
      letter-spacing: -0.03em;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    label {
      font-size: 12px;
      font-weight: 500;
      color: #cbd5e1;
      display: flex;
      justify-content: space-between;
      margin-bottom: 6px;
    }
    .hint {
      font-weight: 400;
      color: #64748b;
      font-size: 11px;
      margin-left: 8px;
    }

    input[type="number"] {
      width: 100%;
      background: #0f172a;
      border: 1px solid #475569;
      border-radius: 10px;
      padding: 10px 12px;
      color: #f8fafc;
      font-size: 14px;
      box-shadow: 0 16px 40px rgb(0 0 0 / .6);
    }
    input[type="number"]:focus {
      outline: 2px solid #38bdf8;
      border-color: #38bdf8;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .grid-3 {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 16px;
    }

    button.calc-btn {
      width: 100%;
      background: linear-gradient(90deg,#0ea5e9,#38bdf8 60%);
      border: 0;
      border-radius: 12px;
      padding: 12px 16px;
      color: #0c111d;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 12px;
      box-shadow: 0 24px 64px rgb(56 189 248 / .5);
    }
    button.calc-btn:hover {
      filter: brightness(1.05);
    }

    .result-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 13px;
      line-height: 1.4;
      color: #cbd5e1;
    }
    .result-label {
      color: #94a3b8;
    }
    .result-value {
      color: #fff;
      font-weight: 600;
      text-align: right;
    }

    .tag-inline {
      display: inline-flex;
      border-radius: 999px;
      padding: 2px 8px;
      font-size: 11px;
      font-weight: 600;
      line-height: 1.4;
      border: 1px solid transparent;
      box-shadow: 0 12px 32px rgb(0 0 0 / .6);
    }
    .tag-green {
      background: rgba(16,185,129,.15);
      color: #34d399;
      border-color: rgba(16,185,129,.4);
    }
    .tag-yellow {
      background: rgba(251,191,36,.15);
      color: #facc15;
      border-color: rgba(251,191,36,.4);
    }
    .tag-red {
      background: rgba(239,68,68,.15);
      color: #ef4444;
      border-color: rgba(239,68,68,.4);
    }

    .analysis-box {
      background: rgba(30,41,59,.6);
      border: 1px solid #475569;
      border-radius: 12px;
      padding: 12px 16px;
      font-size: 12px;
      line-height: 1.5;
      color: #cbd5e1;
      white-space: pre-line;
      box-shadow: 0 20px 60px rgb(0 0 0 / .7);
    }
    .analysis-title {
      color: #fff;
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    footer {
      color:#475569;
      background:#0f172a;
      font-size:12px;
      text-align:center;
      padding:12px 0 16px;
      border-top:1px solid #334155;
    }

    .section-note {
      font-size: 11px;
      color: #64748b;
      margin-top: 8px;
      line-height: 1.4;
    }

    .pill-hilo {
      display:inline-flex;
      background:#1e293b;
      color:#cbd5e1;
      border:1px solid #475569;
      border-radius:999px;
      font-size:11px;
      padding:2px 8px;
      font-weight:500;
      gap:4px;
      align-items:center;
    }
    .pill-hilo span {
      font-size:10px;
      opacity:.8;
    }
  </style>
</head>
<body>
<header>
  <div class="brand">‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£ Spatial Intelligence</div>
  <nav>
    <a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
    <a href="map.html">‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà</a>
    <a href="competition.html">‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á</a>
    <a href="customers.html">‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</a>
    <a href="population.html">‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏Å‡∏£</a>
    <a href="forecast.html">‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a>
    <a href="risk.html">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á</a>
    <a href="capacity.html" class="active">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ú‡∏•‡∏¥‡∏ï</a>
  </nav>
</header>

<main>

  <!-- ===================== INPUT SIDE ===================== -->
  <section class="card">
    <h1>
      ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ú‡∏•‡∏¥‡∏ï / ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏±‡∏Å‡∏£
      <span class="pill-hilo">
        <span>v0.1</span> live calc
      </span>
    </h1>
    <div class="subtitle">
      ‡πÉ‡∏™‡πà‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤
      ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡∏Å‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á / ‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô / ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà / ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏Å‡∏µ‡πà kW
    </div>

    <h2>1. ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏î‡πâ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô</h2>
    <div class="grid-2">
      <div>
        <label>‡∏Ç‡∏ß‡∏î‡πÅ‡∏Å‡πâ‡∏ß (‡πÉ‡∏ö/‡∏ß‡∏±‡∏ô)
          <span class="hint">‡∏Ç‡∏ß‡∏î‡∏™‡∏∏‡∏£‡∏≤ / reuse ‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô</span>
        </label>
        <input type="number" id="glassBottlesPerDay" value="5000" min="0" />
      </div>
      <div>
        <label>PET (‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô)
          <span class="hint">‡∏Ç‡∏ß‡∏î‡πÉ‡∏™ ‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏° ‡∏Ø‡∏•‡∏Ø</span>
        </label>
        <input type="number" id="petKgPerDay" value="1200" min="0" />
      </div>
    </div>

    <div class="grid-2" style="margin-top:16px">
      <div>
        <label>HDPE (‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô)
          <span class="hint">‡πÅ‡∏Å‡∏•‡∏•‡∏≠‡∏ô‡∏Ç‡∏≤‡∏ß‡∏Ç‡∏∏‡πà‡∏ô ‡∏ô‡∏° ‡πÅ‡∏ä‡∏°‡∏û‡∏π</span>
        </label>
        <input type="number" id="hdpeKgPerDay" value="300" min="0" />
      </div>
      <div>
        <label>‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏•‡∏π‡∏Å‡∏ü‡∏π‡∏Å (‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô)
          <span class="hint">‡∏•‡∏±‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ e-commerce</span>
        </label>
        <input type="number" id="paperKgPerDay" value="2000" min="0" />
      </div>
    </div>

    <div class="grid-2" style="margin-top:16px">
      <div>
        <label>‡∏≠‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏° (‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô)
          <span class="hint">‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏≠‡∏±‡∏î‡∏•‡∏° ‡∏Ø‡∏•‡∏Ø</span>
        </label>
        <input type="number" id="aluKgPerDay" value="150" min="0" />
      </div>
      <div>
        <!-- intentionally blank for layout symmetry -->
      </div>
    </div>

    <h2>2. ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</h2>
    <div class="grid-2">
      <div>
        <label>‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á‡∏ï‡πà‡∏≠‡∏Å‡∏∞ (‡∏ä‡∏°./‡∏Å‡∏∞)
          <span class="hint">‡πÄ‡∏ä‡πà‡∏ô 8</span>
        </label>
        <input type="number" id="hoursPerShift" value="8" min="1" />
      </div>
      <div>
        <label>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏∞‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô
          <span class="hint">1 = ‡∏ó‡∏≥‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</span>
        </label>
        <input type="number" id="shiftsPerDay" value="1" min="1" />
      </div>
    </div>

    <button class="calc-btn" onclick="calculateCapacity()">
      ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ú‡∏•‡∏¥‡∏ï
    </button>

    <div class="section-note">
      ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ê‡∏≤‡∏ô:
      <br/>‚Ä¢ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á ~150 ‡∏Å‡∏Å./‡∏ä‡∏°./‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü ~5 kW, ‡∏Ñ‡∏ô 1 ‡∏Ñ‡∏ô/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
      <br/>‚Ä¢ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô ~1000 ‡∏Å‡∏Å./‡∏ä‡∏°./‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á, ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü ~25 kW, ‡∏Ñ‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 2 ‡∏Ñ‡∏ô (feed+logistics)
      <br/>‚Ä¢ ‡∏Ç‡∏ß‡∏î‡πÅ‡∏Å‡πâ‡∏ß (‡πÉ‡∏ö) = ‡πÑ‡∏•‡∏ô‡πå‡∏Ñ‡∏±‡∏î/‡∏Ñ‡∏±‡∏î‡πÑ‡∏ã‡∏™‡πå ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏±‡∏î
    </div>
  </section>

  <!-- ===================== RESULT SIDE ===================== -->
  <section class="card">
    <h2>‡∏ú‡∏•‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h2>

    <div class="result-row">
      <div class="result-label">‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏î (‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô)</div>
      <div class="result-value" id="totalKgPerDay">-</div>
    </div>
    <div class="result-row">
      <div class="result-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ (‡∏Å‡∏Å./‡∏ä‡∏°.)</div>
      <div class="result-value" id="ratePerHour">-</div>
    </div>

    <div class="result-row">
      <div class="result-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞</div>
      <div class="result-value" id="machineType">-</div>
    </div>
    <div class="result-row">
      <div class="result-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ (‚âà)</div>
      <div class="result-value" id="machinesNeeded">-</div>
    </div>
    <div class="result-row">
      <div class="result-label">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÑ‡∏ü‡∏£‡∏ß‡∏°‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (kW)</div>
      <div class="result-value" id="totalPower">-</div>
    </div>
    <div class="result-row">
      <div class="result-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ (‡∏ï‡πà‡∏≠‡∏Å‡∏∞)</div>
      <div class="result-value" id="peopleNeeded">-</div>
    </div>

    <div class="result-row">
      <div class="result-label">‡∏Ç‡∏ß‡∏î‡πÅ‡∏Å‡πâ‡∏ß‡∏Ñ‡∏±‡∏î‡∏™‡πà‡∏á‡∏Å‡∏•‡∏±‡∏ö (‡πÉ‡∏ö/‡∏ß‡∏±‡∏ô)</div>
      <div class="result-value" id="glassBottlesEcho">-</div>
    </div>

    <h2 style="margin-top:24px;">‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£ (‡∏™‡πÄ‡∏Å‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à)</h2>
    <div class="result-row">
      <div class="result-label">‡∏£‡∏∞‡∏î‡∏±‡∏ö:</div>
      <div class="result-value" id="scaleTag">-</div>
    </div>

    <div class="analysis-box" style="margin-top:16px;">
      <div class="analysis-title">
        üîé ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û
      </div>
      <div id="businessAnalysis">
        -
      </div>
    </div>

    <div class="analysis-box" style="margin-top:16px;">
      <div class="analysis-title">
        üõ† ‡∏Ç‡πâ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏ä‡∏¥‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£
      </div>
      <div id="operationTips">
        -
      </div>
    </div>

    <div class="analysis-box" style="margin-top:16px;">
      <div class="analysis-title">
        üè≠ ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏õ‡πá‡∏ô Hub ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î / ‡πÄ‡∏à‡πâ‡∏≤‡πÉ‡∏´‡∏ç‡πà
      </div>
      <div id="hubPotential">
        -
      </div>
    </div>

  </section>

</main>

<footer>
  ¬© ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏™‡∏≤‡∏Ñ‡∏£ ¬∑ Prototype Capacity Planner (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏• / reverse logistics ‡∏Ç‡∏ß‡∏î‡∏™‡∏∏‡∏£‡∏≤)
</footer>

<script>
function ceil(x) {
  return Math.ceil(x);
}

function calculateCapacity() {
  // 1) ‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏¥‡∏ô‡∏û‡∏∏‡∏ï
  const glassPerDay   = parseFloat(document.getElementById('glassBottlesPerDay').value) || 0;
  const petPerDay     = parseFloat(document.getElementById('petKgPerDay').value)       || 0;
  const hdpePerDay    = parseFloat(document.getElementById('hdpeKgPerDay').value)      || 0;
  const paperPerDay   = parseFloat(document.getElementById('paperKgPerDay').value)     || 0;
  const aluPerDay     = parseFloat(document.getElementById('aluKgPerDay').value)       || 0;
  const hrsPerShift   = parseFloat(document.getElementById('hoursPerShift').value)     || 1;
  const shiftsPerDay  = parseFloat(document.getElementById('shiftsPerDay').value)      || 1;

  // 2) ‡∏£‡∏ß‡∏°‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏ó‡∏µ‡πà "‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏î"
  const totalKgPerDay = petPerDay + hdpePerDay + paperPerDay + aluPerDay;

  // 3) rate kg/hr ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö
  const totalHours = hrsPerShift * shiftsPerDay;
  const ratePerHour = totalHours > 0 ? totalKgPerDay / totalHours : 0;

  // 4) ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
  const verticalRate   = 150;   // kg/hr/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏™‡∏°‡∏°‡∏ï‡∏¥ vertical baler)
  const horizontalRate = 1000;  // kg/hr/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (‡∏™‡∏°‡∏°‡∏ï‡∏¥ horizontal baler)

  let machineType = "";
  let machinesNeeded = 0;
  let peopleNeeded = 0;
  let totalPowerKW = 0;
  let powerPerMachine = 0;

  if (ratePerHour < 200) {
    // ‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á
    machineType = "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á (Vertical baler)";
    machinesNeeded = ceil(ratePerHour / verticalRate);
    if (machinesNeeded < 1 && totalKgPerDay > 0) machinesNeeded = 1;

    peopleNeeded = machinesNeeded; // 1 ‡∏Ñ‡∏ô/‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
    powerPerMachine = 5; // kW ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì
    totalPowerKW = machinesNeeded * powerPerMachine;
  } else {
    // ‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô
    machineType = "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô (Horizontal baler)";
    machinesNeeded = ceil(ratePerHour / horizontalRate);
    if (machinesNeeded < 1 && totalKgPerDay > 0) machinesNeeded = 1;

    peopleNeeded = Math.max(2, machinesNeeded); // ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 2 ‡∏Ñ‡∏ô
    powerPerMachine = 25; // kW ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì
    totalPowerKW = machinesNeeded * powerPerMachine;
  }

  // 5) ‡∏à‡∏±‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡πÄ‡∏Å‡∏•‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à‡∏à‡∏≤‡∏Å‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏£‡∏ß‡∏°/‡∏ß‡∏±‡∏ô
  // <1 ‡∏ï‡∏±‡∏ô/‡∏ß‡∏±‡∏ô = ‡πÄ‡∏•‡πá‡∏Å, 1-5 ‡∏ï‡∏±‡∏ô/‡∏ß‡∏±‡∏ô = ‡∏Å‡∏•‡∏≤‡∏á, >5 ‡∏ï‡∏±‡∏ô/‡∏ß‡∏±‡∏ô = ‡πÉ‡∏´‡∏ç‡πà
  let scaleText = "";
  let scaleClass = "";
  const tonsPerDay = totalKgPerDay / 1000.0;

  if (tonsPerDay < 1) {
    scaleText = "‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å (üü¢ ‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å / ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á‡∏ï‡∏•‡∏≤‡∏î)";
    scaleClass = "tag-green";
  } else if (tonsPerDay < 5) {
    scaleText = "‡∏Ç‡∏ô‡∏≤‡∏î‡∏Å‡∏•‡∏≤‡∏á (üü° ‡∏°‡∏µ‡∏≠‡∏≥‡∏ô‡∏≤‡∏à‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á)";
    scaleClass = "tag-yellow";
  } else {
    scaleText = "‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà (üî¥ ‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î/‡∏†‡∏π‡∏°‡∏¥‡∏†‡∏≤‡∏Ñ)";
    scaleClass = "tag-red";
  }

  // 6) ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à
  // ‡∏û‡∏π‡∏î‡∏ñ‡∏∂‡∏á: ‡∏Ç‡∏ß‡∏î‡πÅ‡∏Å‡πâ‡∏ß (reverse logistics), ‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö‡∏≠‡∏±‡∏î‡∏Ç‡∏≤‡∏¢
  const analysisBiz = `
‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏£‡∏ß‡∏° ${totalKgPerDay.toFixed(0)} ‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô (~${tonsPerDay.toFixed(2)} ‡∏ï‡∏±‡∏ô/‡∏ß‡∏±‡∏ô)
‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÑ‡∏´‡∏ß ~${ratePerHour.toFixed(1)} ‡∏Å‡∏Å./‡∏ä‡∏°.

‡∏Ç‡∏ß‡∏î‡πÅ‡∏Å‡πâ‡∏ß ${glassPerDay.toFixed(0)} ‡πÉ‡∏ö/‡∏ß‡∏±‡∏ô:
‚Ä¢ ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° reverse logistics (‡∏Ñ‡∏∑‡∏ô‡∏Ç‡∏ß‡∏î‡∏î‡∏µ‡πÉ‡∏´‡πâ‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏∏‡∏£‡∏≤)
‚Ä¢ ‡∏™‡∏¥‡πà‡∏á‡∏ô‡∏µ‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß/‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ñ‡∏∂‡∏á‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á
‚Ä¢ ‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏¢‡πà‡∏≠‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÑ‡∏°‡πà‡∏Ñ‡∏±‡∏î‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ
`.trim();

  // 7) ‡∏Ç‡πâ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£
  let tips = "";
  if (machineType.includes("‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á")) {
    tips = `
‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô = ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á ${machinesNeeded} ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á
‚Ä¢ ‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏°‡∏≤‡∏Å
‚Ä¢ ‡πÉ‡∏ä‡πâ‡πÅ‡∏£‡∏á‡∏Ñ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å (‡∏Ñ‡∏±‡∏î ‡πÅ‡∏¢‡∏Å ‡∏õ‡πâ‡∏≠‡∏ô)
‚Ä¢ ‡∏î‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à / ‡∏û‡∏¥‡∏™‡∏π‡∏à‡∏ô‡πå‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô
‚Ä¢ ‡∏ñ‡πâ‡∏≤‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÇ‡∏ï‡∏à‡∏ô ${ratePerHour.toFixed(1)} ‡∏Å‡∏Å./‡∏ä‡∏°. ‡πÄ‡∏Å‡∏¥‡∏ô ~200 ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô
`.trim();
  } else {
    tips = `
‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô
‚Ä¢ ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏•‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á-‡πÉ‡∏´‡∏ç‡πà
‚Ä¢ ‡πÇ‡∏ü‡∏•‡πå‡∏Ñ‡∏•‡∏¥‡∏ü‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πÇ‡∏ï‡πÄ‡∏£‡∏à‡∏Å‡πâ‡∏≠‡∏ô‡∏à‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Å‡∏ß‡πà‡∏≤‡∏Ñ‡∏ô‡∏õ‡πâ‡∏≠‡∏ô‡∏°‡∏∑‡∏≠
‚Ä¢ ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡πÄ‡∏à‡∏£‡∏à‡∏≤‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ö‡∏ö‡πÄ‡∏´‡∏°‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡∏Ñ‡∏π‡πà‡∏Ñ‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏¢‡πà‡∏≠‡∏¢/‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏Å‡∏£‡∏£‡∏°
`.trim();
  }

  // 8) ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏õ‡πá‡∏ô Hub / ‡πÄ‡∏à‡πâ‡∏≤‡πÉ‡∏´‡∏ç‡πà
  // heuristic ‡∏á‡πà‡∏≤‡∏¢: ‡∏ñ‡πâ‡∏≤ >=5 ‡∏ï‡∏±‡∏ô/‡∏ß‡∏±‡∏ô ‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ potential high
  let hub = "";
  if (tonsPerDay >= 5 || glassPerDay >= 8000) {
    hub = `
‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á:
‚Ä¢ ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏ã‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡πá‡∏ô HUB ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡πÑ‡∏î‡πâ
‚Ä¢ ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏ù‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤) ‡πÅ‡∏•‡∏∞‡∏ù‡∏±‡πà‡∏á‡∏Ç‡∏≤‡∏¢ (‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô)
‚Ä¢ ‡∏ñ‡πâ‡∏≤ maintain volume ‡πÑ‡∏î‡πâ‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ 3-6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏°‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏´‡∏•‡πà‡∏á‡∏´‡∏•‡∏±‡∏Å ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
`.trim();
  } else if (tonsPerDay >= 1) {
    hub = `
‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á:
‚Ä¢ ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏µ volume ‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏Ñ‡∏∏‡∏¢ "‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏à‡∏≥" ‡∏Å‡∏±‡∏ö‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á
‚Ä¢ ‡∏à‡∏∏‡∏î‡∏ä‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏µ‡πâ‡∏ï‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô/‡∏£‡∏≤‡∏¢‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå
‚Ä¢ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏û‡∏¥‡πà‡∏° network ‡∏£‡∏ñ‡∏£‡∏±‡∏ö‡∏ã‡∏∑‡πâ‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô/‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô/‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡∏¢‡πà‡∏≠‡∏¢ ‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏£‡∏∞‡∏î‡∏±‡∏ö HUB ‡πÑ‡∏î‡πâ
`.trim();
  } else {
    hub = `
‡∏®‡∏±‡∏Å‡∏¢‡∏†‡∏≤‡∏û‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏Ç‡πà:
‚Ä¢ ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏ä‡∏¥‡∏á‡∏ó‡∏î‡∏™‡∏≠‡∏ö
‚Ä¢ ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ß‡∏±‡∏™‡∏î‡∏∏‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î (‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡∏ß‡∏î‡πÅ‡∏Å‡πâ‡∏ß)
‚Ä¢ ‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡∏Å‡∏≤‡∏£‡∏Ñ‡∏±‡∏î‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì
`.trim();
  }

  // 9) ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï DOM
  document.getElementById('totalKgPerDay').textContent = totalKgPerDay.toFixed(0) + " ‡∏Å‡∏Å./‡∏ß‡∏±‡∏ô";
  document.getElementById('ratePerHour').textContent  = ratePerHour.toFixed(1) + " ‡∏Å‡∏Å./‡∏ä‡∏°.";
  document.getElementById('machineType').textContent  = machineType;
  document.getElementById('machinesNeeded').textContent = machinesNeeded + " ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á";
  document.getElementById('totalPower').textContent   = totalPowerKW.toFixed(1) + " kW";
  document.getElementById('peopleNeeded').textContent = peopleNeeded + " ‡∏Ñ‡∏ô/‡∏Å‡∏∞";
  document.getElementById('glassBottlesEcho').textContent = glassPerDay.toFixed(0) + " ‡πÉ‡∏ö/‡∏ß‡∏±‡∏ô";

  document.getElementById('scaleTag').innerHTML =
    `<span class="tag-inline ${scaleClass}">${scaleText}</span>`;

  document.getElementById('businessAnalysis').textContent = analysisBiz;
  document.getElementById('operationTips').textContent = tips;
  document.getElementById('hubPotential').textContent = hub;
}

// ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
calculateCapacity();
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>กำลังการอัด & ศักยภาพ HUB</title>

  <style>
    :root {
      --bg-main:#0f172a;
      --bg-card:#1e293b;
      --bg-soft:rgba(30,41,59,.6);
      --line:#334155;
      --text-main:#f8fafc;
      --text-dim:#94a3b8;
      --accent:#38bdf8;
      --green:#4ade80;
      --yellow:#fde047;
      --red:#f87171;
      --blue:#60a5fa;
    }

    body {
      font-family: system-ui, sans-serif;
      background: var(--bg-main);
      color: var(--text-main);
      margin:0;
      padding:0;
      min-height:100vh;
      display:grid;
      grid-template-rows:auto 1fr auto;
    }

    header{
      background:#1e293b;
      border-bottom:1px solid var(--line);
      padding:12px 16px;
      font-size:14px;
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    header .brand{
      font-weight:600;
      color:#fff;
      font-size:14px;
    }
    header nav a{
      color:var(--text-dim);
      text-decoration:none;
      font-size:13px;
      margin-right:12px;
    }
    header nav a:hover{
      color:#fff;
    }
    header nav a.active{
      color:var(--accent);
      font-weight:600;
    }

    main{
      padding:16px;
      display:grid;
      gap:16px;
      grid-template-columns:1fr;
      max-width:1250px;
      width:100%;
      margin:0 auto;
    }

    .card{
      background:var(--bg-card);
      border:1px solid var(--line);
      border-radius:16px;
      padding:16px 20px;
      box-shadow:0 24px 64px rgb(0 0 0 / .8);
    }

    .card h2{
      margin:0 0 4px 0;
      font-size:15px;
      font-weight:600;
      color:#fff;
      display:flex;
      gap:8px;
      align-items:center;
      flex-wrap:wrap;
    }

    .sub{
      font-size:12px;
      color:var(--text-dim);
      line-height:1.4;
      margin-bottom:12px;
    }

    .grid-2{
      display:grid;
      gap:16px;
    }
    @media(min-width:900px){
      .grid-2{
        grid-template-columns:1fr 1fr;
      }
      main{
        grid-template-columns:1fr 1fr;
      }
      .wide{
        grid-column:1 / span 2;
      }
    }

    .flex-row{
      display:flex;
      flex-wrap:wrap;
      align-items:flex-end;
      column-gap:12px;
      row-gap:12px;
    }

    .input-col{
      min-width:140px;
      flex:1;
    }

    label{
      font-size:12px;
      color:#cbd5e1;
      display:block;
      margin-bottom:4px;
    }
    .unit{
      font-size:11px;
      color:var(--text-dim);
      font-weight:400;
    }

    input{
      width:100%;
      background:#0f172a;
      border:1px solid var(--line);
      border-radius:8px;
      color:#fff;
      font-size:14px;
      padding:8px 10px;
    }

    button#calcBtn{
      background:var(--accent);
      color:#0f172a;
      font-weight:600;
      border:0;
      border-radius:8px;
      font-size:14px;
      padding:10px 14px;
      cursor:pointer;
      line-height:1.2;
      min-width:120px;
    }
    button#calcBtn:hover{
      filter:brightness(1.1);
    }

    /* mini stat cards */
    .stats-wrap{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
      gap:12px;
      margin-top:12px;
    }
    .stat-box{
      background:var(--bg-soft);
      border:1px solid var(--line);
      border-radius:12px;
      padding:12px;
    }
    .stat-label{
      font-size:11px;
      line-height:1.4;
      color:var(--text-dim);
    }
    .stat-value{
      font-size:18px;
      font-weight:600;
      color:#fff;
      line-height:1.3;
      margin-top:2px;
      word-break:break-word;
    }
    .tagline{
      font-size:11px;
      line-height:1.4;
      margin-top:2px;
      color:var(--text-dim);
    }

    table.compare{
      width:100%;
      border-collapse:collapse;
      font-size:13px;
      color:#cbd5e1;
      margin-top:12px;
    }
    table.compare th{
      background:#0f172a;
      color:#fff;
      text-align:left;
      font-weight:600;
      font-size:12px;
      padding:8px 10px;
      border-bottom:1px solid var(--line);
      white-space:nowrap;
    }
    table.compare td{
      padding:8px 10px;
      border-bottom:1px solid var(--line);
      vertical-align:top;
    }
    table.compare tr:last-child td{
      border-bottom:0;
    }

    ul.explain-list{
      padding-left:16px;
      margin:8px 0 0 0;
      font-size:12px;
      color:#cbd5e1;
      line-height:1.5;
    }
    ul.explain-list li{
      margin-bottom:6px;
    }
    ul.explain-list b{
      color:#fff;
      font-weight:600;
    }

    .badge{
      display:inline-block;
      font-size:11px;
      font-weight:600;
      line-height:1;
      padding:4px 6px;
      border-radius:6px;
      border:1px solid transparent;
      vertical-align:middle;
    }
    .badge.green{
      background:#052e16;
      border-color:#14532d;
      color:var(--green);
    }
    .badge.yellow{
      background:#422006;
      border-color:#713f12;
      color:var(--yellow);
    }
    .badge.red{
      background:#450a0a;
      border-color:#7f1d1d;
      color:var(--red);
    }
    .badge.blue{
      background:#082f49;
      border-color:#1e40af;
      color:var(--blue);
    }

    footer{
      color:#475569;
      background:#0f172a;
      font-size:12px;
      text-align:center;
      padding:12px 0 16px;
      border-top:1px solid #334155;
    }

  </style>
</head>
<body>
<header>
  <div class="brand">สมุทรสาคร Spatial Intelligence</div>
  <nav>
    <a href="index.html">หน้าแรก</a>
    <a href="map.html">แผนที่</a>
    <a href="competition.html">คู่แข่ง</a>
    <a href="customers.html">ลูกค้า</a>
    <a href="population.html">ประชากร</a>
    <a href="forecast.html">สินค้า</a>
    <a href="risk.html">ความเสี่ยง</a>
    <a href="capacity.html" class="active">กำลังการอัด</a>
  </nav>
</header>

<main>

  <!-- 1. INPUT ปริมาณรายสินค้า -->
  <section class="card wide">
    <h2>1) ปริมาณวัสดุที่คาดว่าจะเข้าลาน (ต่อปี)</h2>
    <div class="sub">
      ใส่ปริมาณแยกตามประเภท (ตัน/ปี). ขวดแก้ว “ดี” ใส่เป็นจำนวนใบ/ปี (ไม่ต้องอัด เพราะจะส่งกลับโรงงานสุราแบบนำกลับใช้ซ้ำ)
    </div>

    <div class="grid-2">

      <div>
        <div class="flex-row">
          <div class="input-col">
            <label>ขวด PET ใส / PET สี <span class="unit">(ตัน/ปี)</span></label>
            <input id="petTon" type="number" min="0" step="0.1" value="1500"/>
          </div>
          <div class="input-col">
            <label>ขวด HDPE (เช่น ขวดนม/ขาวขุ่น) <span class="unit">(ตัน/ปี)</span></label>
            <input id="hdpeTon" type="number" min="0" step="0.1" value="600"/>
          </div>
        </div>

        <div class="flex-row">
          <div class="input-col">
            <label>กระดาษลูกฟูก / กล่อง <span class="unit">(ตัน/ปี)</span></label>
            <input id="cartonTon" type="number" min="0" step="0.1" value="2000"/>
          </div>
          <div class="input-col">
            <label>กระดาษขาวดำ / กระดาษผสม <span class="unit">(ตัน/ปี)</span></label>
            <input id="paperTon" type="number" min="0" step="0.1" value="500"/>
          </div>
        </div>

        <div class="flex-row">
          <div class="input-col">
            <label>กระป๋องอะลูมิเนียม <span class="unit">(ตัน/ปี)</span></label>
            <input id="aluTon" type="number" min="0" step="0.1" value="200"/>
          </div>
          <div class="input-col">
            <label>วันเดินเครื่องต่อปี <span class="unit">(วัน/ปี)</span></label>
            <input id="operatingDays" type="number" min="1" step="1" value="300"/>
          </div>
        </div>

        <div class="flex-row">
          <div class="input-col">
            <label>ชั่วโมง/กะ <span class="unit">(ชม.)</span></label>
            <input id="shiftHours" type="number" min="1" step="1" value="8"/>
          </div>
          <div class="input-col">
            <label>กะ/วัน <span class="unit">(กะ)</span></label>
            <input id="shiftsPerDay" type="number" min="1" step="1" value="1"/>
          </div>
        </div>
      </div>

      <div>
        <div class="flex-row">
          <div class="input-col">
            <label>ขวดแก้ว “ดี” ที่จะส่งคืนโรงงานสุรา <span class="unit">(ใบ/ปี)</span></label>
            <input id="glassBottleCount" type="number" min="0" step="1" value="2000000"/>
          </div>

          <button id="calcBtn">คำนวณ</button>
        </div>

        <div class="sub" style="margin-top:12px;">
          หมายเหตุ:
          <br/>• PET / HDPE / กระดาษ / อะลูมิเนียม = ต้องอัดก้อน
          <br/>• ขวดแก้วดี = ไม่อัด → เป็นสินค้า premium (ส่งกลับใช้ซ้ำ)
        </div>
      </div>

    </div>
  </section>


  <!-- 2. LOAD SUMMARY -->
  <section class="card">
    <h2>2) ภาระงานที่ต้องอัดก้อน</h2>
    <div class="sub">ระบบรวมวัตถุดิบทุกประเภทที่ “ต้องอัด” แล้วแปลงเป็นโหลดต่อวัน/ต่อชั่วโมง</div>

    <div class="stats-wrap">
      <div class="stat-box">
        <div class="stat-label">รวมวัตถุดิบที่ต้องอัด</div>
        <div class="stat-value" id="totalTonPerYear">-</div>
        <div class="tagline">ตัน / ปี</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">เฉลี่ยต่อวัน</div>
        <div class="stat-value" id="tonPerDay">-</div>
        <div class="tagline">ตัน / วัน</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">ภาระต่อชั่วโมง</div>
        <div class="stat-value" id="tonPerHour">-</div>
        <div class="tagline">ตัน / ชม.</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">โหลดเครื่องอัด</div>
        <div class="stat-value" id="kgPerHour">-</div>
        <div class="tagline">กก. / ชม. ที่ต้องอัด</div>
      </div>
    </div>

    <ul class="explain-list">
      <li><b>วิธีคิด:</b> (ตัน/ปี ÷ วันทำงาน) = ตัน/วัน → ÷ ชั่วโมงเดินเครื่องจริงต่อวัน = ตัน/ชม. → ×1000 = กก./ชม.</li>
      <li>เลขนี้คือความเร็ว “กี่กิโลกรัมต่อชั่วโมง” ที่เครื่องอัดต้องกินเข้าให้ทัน ไม่งั้นสต็อกจะค่อยๆ กองเต็มลาน</li>
    </ul>
  </section>


  <!-- 3. เครื่องอัด: แนวตั้ง vs แนวนอน -->
  <section class="card">
    <h2>3) เครื่องอัดที่เหมาะ</h2>
    <div class="sub">เปรียบเทียบสเปคประมาณการ แล้วดูว่าควรลงทุนแบบไหน</div>

    <table class="compare">
      <thead>
        <tr>
          <th>พารามิเตอร์หลัก</th>
          <th>แนวตั้ง (Vertical baler)</th>
          <th>แนวนอน (Horizontal baler)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>กำลังอัดต่อเครื่อง</td>
          <td>~0.5 ตัน/ชม.<br/><small>≈ 500 กก./ชม.</small></td>
          <td>~2 ตัน/ชม.<br/><small>≈ 2,000 กก./ชม.</small></td>
        </tr>
        <tr>
          <td>น้ำหนัก 1 ก้อน</td>
          <td>~150 กก./ก้อน</td>
          <td>~400 กก./ก้อน</td>
        </tr>
        <tr>
          <td>เวลาทำ 1 ก้อน</td>
          <td>ประมาณ 15-20 นาที</td>
          <td>ประมาณ 5-8 นาที</td>
        </tr>
        <tr>
          <td>กำลังไฟต่อเครื่อง</td>
          <td>~10 kW</td>
          <td>~25 kW</td>
        </tr>
        <tr>
          <td>แรงงาน/กะ</td>
          <td>2 คน (ป้อน+มัด)</td>
          <td>2 คน (ป้อน+โฟล์คลิฟต์)</td>
        </tr>
        <tr>
          <td>เหมาะกับ</td>
          <td>ปริมาณไม่สูงมาก / ทำทีละชนิด</td>
          <td>ปริมาณสูง / อยากได้ก้อนมาตรฐานโรงงาน</td>
        </tr>
      </tbody>
    </table>

    <div class="stats-wrap" style="margin-top:16px;">
      <div class="stat-box">
        <div class="stat-label">ต้องใช้เครื่องแนวตั้ง ≈</div>
        <div class="stat-value" id="needVert">-</div>
        <div class="tagline">เครื่อง</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">ต้องใช้เครื่องแนวนอน ≈</div>
        <div class="stat-value" id="needHori">-</div>
        <div class="tagline">เครื่อง</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">คำแนะนำ</div>
        <div class="stat-value" id="pickType">-</div>
        <div class="tagline">เลือก main machine</div>
      </div>
    </div>

    <div class="stats-wrap">
      <div class="stat-box">
        <div class="stat-label">%การใช้งานแนวตั้ง (โหลด/กำลัง)</div>
        <div class="stat-value" id="utilVert">-</div>
        <div class="tagline">ควรต่ำกว่า ~80% จะเหลือ buffer</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">%การใช้งานแนวนอน (โหลด/กำลัง)</div>
        <div class="stat-value" id="utilHori">-</div>
        <div class="tagline">ต่ำ = ยังโตได้โดยไม่ต้องซื้อเพิ่ม</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">กำลังไฟรวม (โดยประมาณ)</div>
        <div class="stat-value" id="powerNeed">-</div>
        <div class="tagline">kW (สำหรับชุดที่แนะนำ)</div>
      </div>
    </div>

    <ul class="explain-list">
      <li><b>จำนวนเครื่อง</b> = เพดาน(กก./ชม. ÷ ความสามารถกก./ชม.ของเครื่อง 1 ตัว)</li>
      <li><b>%การใช้งาน</b> = (โหลดจริง / ความสามารถรวม) × 100</li>
      <li>แนวนอนให้ก้อนใหญ่ มาตรฐานสม่ำเสมอ → รถบรรทุกเรียงง่าย → ต้นทุนขนส่ง/ตัน ต่ำกว่า</li>
    </ul>
  </section>


  <!-- 4. โลจิสติกส์ / รถบรรทุก -->
  <section class="card">
    <h2>4) โหลดขึ้นรถบรรทุก</h2>
    <div class="sub">สมมติรถบรรทุกกลางบรรทุกได้ ~15 ตัน/เที่ยว (15,000 กก.)</div>

    <div class="stats-wrap">
      <div class="stat-box">
        <div class="stat-label">แนวตั้ง</div>
        <div class="stat-value" id="truckVert">-</div>
        <div class="tagline">ก้อน/เที่ยว (ก้อน ~150 กก.)</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">แนวนอน</div>
        <div class="stat-value" id="truckHori">-</div>
        <div class="tagline">ก้อน/เที่ยว (ก้อน ~400 กก.)</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">ความหมาย</div>
        <div class="stat-value">
          <span class="badge blue">ก้อนใหญ่ = ค่าขน/กก. ต่ำ</span>
        </div>
        <div class="tagline">โรงงานปลายทางชอบก้อนสม่ำเสมอ เพราะลงคลังง่าย</div>
      </div>
    </div>

    <ul class="explain-list">
      <li>แนวนอน → ก้อนหนัก/เหลี่ยม → ใช้พื้นที่รถดีขึ้น ⇒ ส่งตรงโรงงานปลายน้ำได้เลย</li>
      <li>นี่คือภาพ “ศูนย์รวบรวม” ไม่ใช่ร้านของเก่าเล็กๆ</li>
    </ul>
  </section>


  <!-- 5. ระดับสเกลธุรกิจ / HUB -->
  <section class="card wide">
    <h2>5) ระดับสเกลธุรกิจ & โอกาสเป็น HUB</h2>
    <div class="sub">ดูว่าตอนนี้เราอยู่ระดับไหน และโตไปเป็นจุดศูนย์กลางจังหวัด / ภูมิภาคได้ไหม</div>

    <div class="stats-wrap">
      <div class="stat-box">
        <div class="stat-label">สเกลธุรกิจ</div>
        <div class="stat-value" id="bizScale">-</div>
        <div class="tagline" id="bizTagline">-</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">โอกาสเป็น HUB</div>
        <div class="stat-value" id="hubChance">-</div>
        <div class="tagline">อำนาจต่อรองกับโรงงานปลายน้ำ</div>
      </div>

      <div class="stat-box">
        <div class="stat-label">ขั้นต่อไป</div>
        <div class="stat-value" id="nextStep">-</div>
        <div class="tagline">การบ้านระดับกลยุทธ์</div>
      </div>
    </div>

    <ul class="explain-list" id="hubExplain">
      <li>กรอกเลขแล้วกดคำนวณ เพื่อดูแผนโตแบบ HUB จังหวัด / HUB ภูมิภาค</li>
      <li>ขวดแก้วดี = ความได้เปรียบเชิงภาพลักษณ์สิ่งแวดล้อม (reuse) ที่รายเล็กทั่วไปไม่มี</li>
    </ul>
  </section>

</main>

<footer>
  © ศักยภาพลานรีไซเคิลสมุทรสาคร · Prototype
</footer>

<script>
function fmt(val, d=1){
  if(isNaN(val)) return "-";
  return Number(val).toFixed(d);
}

function calc(){
  // ===== 1. read inputs =====
  const petTon   = parseFloat(document.getElementById("petTon").value||"0");
  const hdpeTon  = parseFloat(document.getElementById("hdpeTon").value||"0");
  const cartonTon= parseFloat(document.getElementById("cartonTon").value||"0");
  const paperTon = parseFloat(document.getElementById("paperTon").value||"0");
  const aluTon   = parseFloat(document.getElementById("aluTon").value||"0");
  const glassBot = parseFloat(document.getElementById("glassBottleCount").value||"0"); // ขวด/ปี (ไม่อัด)

  const operatingDays = parseFloat(document.getElementById("operatingDays").value||"300");
  const shiftHours    = parseFloat(document.getElementById("shiftHours").value||"8");
  const shiftsPerDay  = parseFloat(document.getElementById("shiftsPerDay").value||"1");

  const hoursPerDay   = (shiftHours * shiftsPerDay>0 ? shiftHours*shiftsPerDay : 1);
  const daysPerYear   = (operatingDays>0 ? operatingDays : 1);

  // ===== 2. total ton that needs baling (not including glass bottles) =====
  const totalTonPerYear = petTon + hdpeTon + cartonTon + paperTon + aluTon;

  // convert to ton/day → ton/hour → kg/hour
  const tonPerDay = totalTonPerYear / daysPerYear;
  const tonPerHour = tonPerDay / hoursPerDay;
  const kgPerHour  = tonPerHour * 1000;

  // ===== 3. machine assumptions =====
  const vertCapacityKgHr = 500;   // ~0.5 t/hr
  const horiCapacityKgHr = 2000;  // ~2 t/hr
  const vertBaleKg = 150;
  const horiBaleKg = 400;
  const vertPowerkW = 10;
  const horiPowerkW = 25;
  const vertPeoplePerShift = 2;
  const horiPeoplePerShift = 2;

  // how many machines needed (ceil)
  const needVertMachines = (kgPerHour>0) ? Math.max(1, Math.ceil(kgPerHour / vertCapacityKgHr)) : 0;
  const needHoriMachines = (kgPerHour>0) ? Math.max(1, Math.ceil(kgPerHour / horiCapacityKgHr)) : 0;

  // utilization
  const vertTotalCap = needVertMachines * vertCapacityKgHr;
  const horiTotalCap = needHoriMachines * horiCapacityKgHr;

  const utilVertPct = vertTotalCap>0 ? (kgPerHour / vertTotalCap)*100 : 0;
  const utilHoriPct = horiTotalCap>0 ? (kgPerHour / horiTotalCap)*100 : 0;

  // choose recommended machine type:
  // rule: ถ้าปริมาณรวม >= 3000 ตัน/ปี → แนวนอน
  // ถ้าต่ำกว่านั้น → แนวตั้งพอ
  let pick = "แนวตั้ง (Vertical)";
  let powerNeed = needVertMachines * vertPowerkW;
  let opPeople = needVertMachines * vertPeoplePerShift;
  if(totalTonPerYear >= 3000){
    pick = "แนวนอน (Horizontal)";
    powerNeed = needHoriMachines * horiPowerkW;
    opPeople = needHoriMachines * horiPeoplePerShift;
  }

  // truck loading
  const truckPayloadKg = 15000; // ~15 ตัน/เที่ยว
  const truckVertBales = vertBaleKg>0 ? Math.floor(truckPayloadKg/vertBaleKg) : 0;
  const truckHoriBales = horiBaleKg>0 ? Math.floor(truckPayloadKg/horiBaleKg) : 0;

  // scale classification (based on totalTonPerYear)
  // <3000 ตัน/ปี = local
  // 3000-15000   = provincial hub
  // >15000       = regional hub
  let scaleText = "";
  let scaleDetail = "";
  let hubChanceText = "";
  let nextStepText = "";
  let hubExplainDetail = "";

  if(totalTonPerYear < 3000){
    scaleText = "จุดรับซื้อท้องถิ่น";
    scaleDetail = "Local scale";
    hubChanceText = "ยังไม่ใช่ HUB";
    nextStepText = "เพิ่มวอลุ่ม / เก็บประเภทให้สะอาด";

    hubExplainDetail =
      "ปริมาณรวมยังไม่ใหญ่พอคุยโรงงานปลายน้ำแบบสัญญาตรง " +
      "โฟกัสคุณภาพของแต่ละชนิด (PET แยกสี, กระดาษไม่ปนพลาสติก) เพื่อขายได้ราคาpremium. " +
      "ขวดแก้วดีคือจุดต่าง เพราะรายเล็กอื่นยังแยก/คัดแบบนี้ยาก";
  } else if(totalTonPerYear < 15000){
    scaleText = "ลานรวมระดับจังหวัด";
    scaleDetail = "Provincial hub";
    hubChanceText = "เริ่มมีอำนาจต่อรอง";
    nextStepText = "พิจารณาแนวนอน 1 เครื่อง";

    hubExplainDetail =
      "คุณเริ่มเป็นจุดศูนย์กลางรับของจากอำเภอต่าง ๆ แล้วอัดก้อนมาตรฐานใหญ่ " +
      "รถบรรทุกสามารถวิ่งเต็มเที่ยวไปโรงงานปลายน้ำได้บ่อยขึ้น " +
      "โรงงานจะเริ่มมองคุณเป็นคู่ค้าหลักของจังหวัดมากกว่า 'ร้านของเก่า'";
  } else {
    scaleText = "ศูนย์รวบรวมภูมิภาค";
    scaleDetail = "Regional hub";
    hubChanceText = "HUB จริง";
    nextStepText = "เสริมโลจิสติกส์และความปลอดภัยคลัง";

    hubExplainDetail =
      "วอลุ่มระดับภูมิภาค: คุณสามารถล็อกตารางรับของจากจังหวัดรอบข้าง " +
      "อัดก้อนแนวนอนก้อนใหญ่ แล้วส่งออกเป็นเที่ยวรถมาตรฐานทุกวัน " +
      "นี่คือระดับที่เจรจาราคายาวกับโรงงานปลายน้ำ (กระดาษ, พลาสติก, สุรา) ได้โดยตรง. " +
      "ต้องใส่ใจเรื่องพื้นที่กองสต็อกและความเสี่ยงไฟเป็นพิเศษ";
  }

  // ===== write results to UI =====
  document.getElementById("totalTonPerYear").textContent = fmt(totalTonPerYear,1)+" ตัน";
  document.getElementById("tonPerDay").textContent       = fmt(tonPerDay,2)+" ตัน";
  document.getElementById("tonPerHour").textContent      = fmt(tonPerHour,3)+" ตัน";
  document.getElementById("kgPerHour").textContent       = fmt(kgPerHour,0)+" กก.";

  document.getElementById("needVert").textContent = (needVertMachines>0?needVertMachines+" เครื่อง":"-");
  document.getElementById("needHori").textContent = (needHoriMachines>0?needHoriMachines+" เครื่อง":"-");
  document.getElementById("pickType").textContent = pick;

  document.getElementById("utilVert").textContent = (needVertMachines>0?fmt(utilVertPct,1)+" %":"-");
  document.getElementById("utilHori").textContent = (needHoriMachines>0?fmt(utilHoriPct,1)+" %":"-");
  document.getElementById("powerNeed").textContent= fmt(powerNeed,1)+" kW";

  document.getElementById("truckVert").textContent= truckVertBales+" ก้อน";
  document.getElementById("truckHori").textContent= truckHoriBales+" ก้อน";

  document.getElementById("bizScale").textContent = scaleText;
  document.getElementById("bizTagline").textContent = scaleDetail;
  document.getElementById("hubChance").textContent = hubChanceText;
  document.getElementById("nextStep").textContent = nextStepText;

  document.getElementById("hubExplain").innerHTML =
    "<li>"+hubExplainDetail+"</li>" +
    "<li>ขวดแก้วดี ("+glassBot.toLocaleString()+" ใบ/ปี โดยประมาณ): เป็นภาพลักษณ์ด้านสิ่งแวดล้อม/รีฟิล/รียูส ซึ่งรายเล็กทั่วไปไม่มี</li>" +
    "<li>แนวนอน = ก้อนใหญ่ (~400กก.) เรียงขึ้นรถง่าย → ค่าขนส่ง/ตัน ต่ำ → ดูเป็น HUB จริง</li>";
}

// run default on load
calc();
document.getElementById("calcBtn").addEventListener("click", calc);
</script>
</body>
</html>
